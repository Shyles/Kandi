\documentclass{tktltiki}
\usepackage{epsfig}
\usepackage{subfigure}
\usepackage{url}
\usepackage{amsmath}
\usepackage{graphicx}
\usepackage{float}
\graphicspath{ {images/} }


\begin{document}
%\doublespacing


\singlespacing
%\onehalfspacing

%\theoremstyle{plain}
\newtheorem{lause}{Lause}
\newtheorem{lemma}{Lemma}
\newtheorem{kuva}{Kuva}
\newtheorem{maaritelma}{Määritelmä}

\newcommand{\degre}{\ensuremath{^\circ}}
\newcommand{\R}{\mathbb{R}}
\newcommand{\N}{\mathbb{Q}}
\newcommand{\Q}{\mathbb{Q}}
\newcommand{\Z}{\mathbb{Z}}
\newcommand{\C}{\mathbb{C}}
\newcommand{\abs}[1]{\left| #1 \right|}
\newcommand{\diff}[1]{\, \mathrm{d} #1}
 \newcommand{\distance}[2]{d\left( #1, #2 \right)}
 \newcommand{\fromOneToX}[2]{\( #1_{1},#1_{2}, \ldots , #1_{#2}, \)}
 \newcommand{\NN}{ \(\mathcal{N} \) }
 \newcommand{\MSet}{ \(MeaningfulSet(e)\) }
 
 

 




\title{Pieni maailma -ilmiö}
\author{Ola Länsman}
\date{\today}

\maketitle

\numberofpagesinformation{\numberofpages\ sivua + \numberofappendixpages\ liitesivua}

\classification{\protect{\ \\
\  Networks $\rightarrow$ Network properties }}



\keywords{verkko, pieni maailma, reititys, algoritmi}

\begin{abstract}

Tämän tutkielman tavoitteena on tutustuttaa lukija pieni maailma -ilmiöön, jolla selitetään lyhyiden polkujen olemassaoloa harvoissa verkoissa. Tämä 'kuuden asteen erotus' erotellaan useammaksi eri verkon ominaisuudeksi, joita käytetään myöhemmin esitellyissä käytännön sovelluksissa. Yksi sovelluskohteista on luonnollisen kielen teksteistä yhteenvetoja tekevä algoritmi, joka osoittaa hyvin, kuinka pieni maailma -ilmiön ominaisuudet ovat laskettavissa.

Myös polunetsinnän perusteet esitellään tutkielmassa osana pieni maailma -ilmiön hyödyntämistä. Lyhyiden polkujen olemassaolo ei vielä takaa niiden nopeaa löytymistä. Tutkielmassa osoitetaan, kuinka verkkojen topologia vaikuttaa näiden lyhyiden polkujen etsimiseen. Erityisesti osoitamme ainoastaan paikallisella tiedolla toimivien polunetsintäalgoritmien vaativan verkolta jonkinlaista heuristiikka, jotta lyhyet polut voivat löytyä nopeasti.

\end{abstract}

\mytableofcontents

\section{Johdanto}

Pieni maailma -ilmiöksi kutsumme havaintoa lyhyiden polkujen olemassaolosta harvoissa verkoissa. Verkkoja, joissa kyseinen ilmiö esiintyy, kutsutaan pieni maailma -verkoiksi, ja näille verkoille on tehty useita erilaisia malleja. Malliverkkojen luomisessa käytetään usein hyväksi parametreihin sidottua satunnaisuutta. Tälläisilla verkoilla on useita mielenkiintoisia ominaisuuksia, joita voidaan käyttää hyödyksi käytännön sovelluksissa ja verkkojen mallintamisessa. 

Tutkielma on tarkoitettu pieni maailma -ilmiöstä kiinnostuneille henkilöille perehdytykseksi. Pieni maailma -ilmiö voi kiinnostaa, mikäli haluat ymmärtää miten dynaamisten verkkojen mallintaminen on kehittynyt nykyiselleen. 

Tutkielma käsittelee kyseistä ilmiötä useasta eri näkökulmasta. Ensimmäiseksi selitetään, miten ilmiö on saanut nimensä Yhdysvalloissa suoritetusta käytännön kokeesta. Samassa luvussa esitetään tämän kokeen pohjalta tehdyt mallit kuvaamaan ilmiötä. Nämä kaksi mallia ovat Wattzin ja Strogatzin malli sekä Kleinbergin malli. Näiden mallien ominaisuuksia ovat ryhmittyneisyys ja lyhyiden polkujen olemassaolo. Näille ominaisuuksille esitetään verkoille laskettavia suureita, joita käytetään hyväksi myöhemmin tutkielmassa. 

Seuravaaksi teksti etenee lyhyiden polkujen etsintään ilmiötä mallintavissa verkoissa. Polunetsinnässä tarkastelun kohteeksi joutuvat ahneet algoritmin ja niiden suorituskyky malleissamme. Osoitamme, että Wattzin ja Strogatzin mallilta puuttuu rakenne, jonka avulla lyhyitä polkuja on helpompi löytää käyttämättä hyväkseen tietoa koko verkon kaarista. Kleinbergin mallissa tämä on toisaalta mahdollista jopa logaritmisessa ajassa suhteessa verkon solmujen määrään.

Lopuksi tarkastellaan, minkälaisista verkoista ilmiötä on havaittu. Esimerkkeinä käytämme biologista, sosiaalista ja tietoteknistä verkkoa. Vertaamme näiden verkkojen ominaisuuksia ja huomaamme, että pieni maailma -ilmiö tosiaan näkyy niissä. Luvun lopussa esitellään luonnolisen kielen teksteistä yhteenvetoja tekevä algoritmi, joka käyttää hyväkseen pieni maailma -ilmiötä. Algoritmissa luodaan tekstistä erilaisia verkkoja niin pitkään, kunnes verkon pieni maailma -ominaisuudet ilmenevät. 

Sivuhuomiona mainitaan, kuinka verkkoteoria on edistynyt verkkojen mallinuksesta pieni maailma -ilmiöstä eteenpäin. Skaalavapaista verkoista mainitaan niiden mahdollisuus kuvata jatkuvasti eläviä verkkoja niin, että uudet solmut kiinnittyvät mieluummin jo paljon kaaria omaaviin solmuihin. 





\section{Pieni maailma}

\label{PieniMaailmaLuku}

\subsection{Määritelmä}

Sosiaalisissa verkoissa pieni maailma -ilmiöksi kutsutaan havaintoa lyhyiden tuttavuusketjujen muodostuminen kahden eri yksilön välillä suurella todennäköisyydellä. Ilmiön nimi on peräisin Traversin ja Milgramin suurta huomiota saanessa käytännön kokeessa \cite{Milgram} Yhdysvalloissa 1960-luvulla. Kokeessa. valittiin n. 200 viestin lähettäjää ja vastaanottajaa. Lähettäjien tehtävänä oli lähettää viesti vastaanottajalle niin, että viesti kulki ihmiseltä toiselle. Rajoitteena kokeessa viestin hallussapitäjä sai välittää viestin vain ihmiselle, jonka tunsi etunimellä. Viestin lähettämistä jatkettiin, kunnes viesti saavutti kohteensa. Päämäärän saavuttaneet viestit kulkivat keskimäärin 5-6 ihmisen kautta ennen kohteeseen päätymistä. Tämä luku on populärisoitu "6 asteen erotukseksi", jonka mukaan jokainen maailman asukas tuntee toisensa enintään 6 ystävän ystävän kautta. 

Verkkoa, jossa pieni maailma -ilmiö toteutuu, kutsumme \textit{pieni maailma -verkoksi}. Tällaisia verkkoja ovat esimerkiksi erään madon hermoston muodostama verkko sekä verkko, joka on luotu perustuen dataan näyttelijöiden esiintymisestä yhdessä samoissa elokuvissa  \cite{CollectiveWattz}. Pieni maailma -verkoille ei ole olennaista kaarien suunta eikä esimerkiksi ruudukkomaisten verkkojen ulotteisuus. Niiden on kuitenkin oltava vahvasti yhtenäisiä, eli verkon jokaisen solmun on oltava saavutettavissa kaikista muista solmuista. Tietojenkäsittelytieteen verkkoteoriassa pieni maailma-verkoissa \textit{suurella todennäköisyydellä minkä tahansa kahden solmun välille voidaan muodostaa lyhyt polku}. Polun lyhyys todetaan sen suhteesta verkon halkaisijaan. Verkon halkaisija on pisin lyhin polku kahden solmun välillä.

Pelkästään näillä ehdoilla pieni maailma -verkko ei ole välttämättä kovin mielenkiintoinen. Mikäli tekisimme verkon, jossa jokaisen solmupärin välille muodostuisi kaari jollain todennäköisyydelä \(p\), suurella todennäköisyydellä kahden solmun välille löytyisi lyhyt polku parametrin \(p\) ollessa tarpeeksi suuri. Solmujen määrän lisäksi, pieni maailma -verkkoa mudostaessa on otettava myös huomioon, miten Traversin ja Milgramin tekemissä kokeissa viestin lähettäjät ovat kyenneet muodostamaan lyhyitä ketjuja käyttäen hyväksi ainoastaan viestin hallussapitäjän tietoja \cite{Kleinberg}. Kutsummekin pieni maailma -verkkoa \textit{navigoitavaksi}, mikäli \textit{verkon yksittäiset solmut voivat lähettää viestin verkon kaaria pitkin muihin verkon solmuihin lyhyitä polkuja pitkin käyttämällä ainoastaan paikallista tietoa}. Paikallisella tiedolla tarkoitetaan, että viestiä hallussa pitävällä solmulla on tiedossa ainoastaan solmusta lähtevät kaaret. 

Pieni maailma -verkkojen ominaisuuksia voidaan kuvailla Wattzin ja Strogatzin \cite{CollectiveWattz} määrittelemillä suureilla \textit{keskimääräinen polun pituus} \(L\) ja \textit{ryhmittymiskerroin} \( \mathcal{C} \) . Keskimääräinen polun pituus verkossa kuvaa nimensä mukaisesti keskiarvoa kaikkien solmuparien välisistä lyhimmistä poluista. Ryhmittymiskerroin \( \mathcal{C} \) taas kuvaa kuinka hyvin lähekkäiset solmut ovat yhdistyneet toisiinsa. Esimerkiksi sosiaalisissa verkoissa suure vastaa kysymykseen, kuinka monet ystävistäni on ystävyksiä keskenään. 
 
Navigoitavien pieni maailma -verkkojen solmujen välille täytyy voida laskea etäisyys jollain heuristiikalla. Yleisenä logiikkana voimme tällöin pitää, että viestiä lähettävällä on solmulla on jonkinlainen käsitys mihin suuntaan viestiä tulee lähettää, jotta se saavuttaa kohteen. Ihmiset tuntevat hyvin luultavasti toisensa paremmin etunimellä, jos asuvat lähekkäin. Jos tehtävänäsi olisi lähettää viesti sinulle tuntemattomalle henkilölle Lapissa, mahdollisesti lähettäisit viestin pohjoisessa asuvalle tutullesi. Tällöin maantieteellinen etäisyys muodostaa heuristiikan sosiaalisten suhteiden verkossa.

Navigoitavat pieni maailma -verkot yleensä täyttävät myös seuraavat ehdot \cite{TextSummary}:

\begin{enumerate}
	\item \label{harva} \textit{ne ovat harvoja}:
	Solmujen välillä on triviaalisti lyhyitä polkuja, jos verkon solmuilla on liikaa kaaria. Tällaiset verkot eivät ole mielenkiintoisia.
	\item \label{ryhmittyneet} \textit{ne ovat ryhmittyneitä}: 
	 Ehto \ref{ryhmittyneet} tarkoittaa, että mikäli solmu \( u \) ja \( v \) ovat lähellä toisiaan niin niiden välillä on todennäköisesti kaari. Yleisimmissä (ahneissa) polunetsintä-algoritmeissa viesti lähetetään aina mahdollisimman lähelle kohdetta, jolloin ehdon \ref{ryhmittyneet} mukaan viesti pääsee luultavasti nopeammin perille.
	\item \textit{niillä on pieni halkaisija}.
	
\end{enumerate}

Ehdossa \ref{ryhmittyneet} mainittulla solmujen läheisyydellä tarkoitetaan läheisyyttä sen heuristiikan mukaan, jotka kulloinkin käytetään. Samaan ehtoon liittyy myös verkon \textit{transitiivisuus}.   Matemaattisesti yhteys \(R\) on transitiivinen, jos \(aRb\) ja \(bRc\) aiheuttavat suoraan \(aRc\). Verkoissa transitiivisuutta voidaan ajatella seuraavalla tavalla: jos solmusta \(u\) on kaari solmuun \(v\), ja solmusta \(v\) on kaari solmuun \(w\) niin solmulla \(u\) on kaari solmuun \(w\). Transitiivisuus on myös yksi ryhmittymisen suure, ja verkon transitiivisuudelle voidaan laskea arvo. Mitä suurempi verkon transitiivisuus on, sitä ryhmittyneempi verkko on \cite{TextSummary}.

Verkon transitiivisuus voidaan laskea yhdistyneiden kolmikoiden ja kolmioiden suhteena

\[
T = \frac
		{( \text{kolmiot} ) \times 3}
		{( \text{yhdistyneet kolmikot} )}
.\]

Kolmio tarkoittaa kolmen solmun joukkoja, joista jokaisen välillä on kaari. Yhdistynyt kolmikko tarkoittaa solmuja \(u, v \text{ ja } w\) jossa solmusta \( u \) on kaari solmuihin \( v \text{ ja } w \). Osoittajan kerroin 3 tulee kolmioiden ja yhdistyneiden kolmikoiden laskutavasta. Yhdistyneitä kolmikoita laskiessa jokainen kolmio lasketaan kolmesti.

Algoritmejä, jotka käyttävät vain paikallista tietoa, kutsumme \textit{hajautetuiksi algoritmeiksi}. Pieni maailma -verkkoja tarkastellessa tutkitaan monesti hajautettuja algoritmeja. Mikäli on mahdollista löytää hajautettu algoritmi, joka kykenee suorittamaan toimintonsa todennäköisesti tietyssä ajassa, pieni maailma -verkko on mielenkiintoinen. Algoritmin tehokkuutta kuvataan algoritmin \textit{hyppyjen} suhteen. Algoritmin hypyillä tarkoitetaan, kuinka monella solmulla viesti on käynyt ennen kohteen saavuttamista. 

\subsection{Kuinka muodostetaan pieni maailma}

\label{WatzzinStrogatzinMalli}

\textbf{Wattzin ja Strogatzin malli}:

Wattzin ja Strogatzin malli \cite{CollectiveWattz} perustuu säännöllisten verkkojen ja satunnaisverkkojen yhdistämiseen. Tavoitteena on yhdistää suuri ryhmittymiskerroin pienen keskimääräisen polun pituuden kanssa. Tällöin verkosta löytyy lyhyitä polkuja, vaikka se onkin harva. Kuten Kleinberg myöhemmin osoitti \cite{Kleinberg}, Wattzin ja Strogatzin malli ei ole navigoitava. Satunnaiset verkot ovat muodostettu jonkin todennäköisyysfunktion perusteella, jolloin jokaisella solmulla   on mielivaltainen määrä kaaria. Säännöllisten verkkojen solmuilla on aina tietty määrä kaaria. Yleensä satunnaisilla verkoilla on pieni ryhmittymiskerroin, mutta pieni keskimääräinen polun pituus. Säännöllisillä verkoilla tämän sijaan on suuri ryhmittymiskerroin, mutta suuri keskimääräisen polun pituus.

Wattzin ja Strogatzin malli muodostetaan virittämällä olemassa olevia kaaria säännöllisestä verkosta, jossa on luvun \(n\) määrä solmuja ja luvun \(k\) verran kaaria kullakin solmulla. Jokaiselle solmusta lähtevälle kaarelle valitaan uusi maalisolmu satunnaisesti todennäköisyydellä \( 0 < p < 1\). Todennäköisyyden \(p\) arvolla 0 verkko pysyy säännöllisenä verkkona ja arvolla 1 verkosta muodostuu satunnainen verkko, jonka kaaret ovat jakautuneet tasaisesti verkon solmujen yli. Tälläisella menetelmällä voisimme muodostaa verkkoja, jotka eivät ole yhtenäisiä. Nämä verkot eivät meitä kuitenkaan kiinnosta joten meidän on vaadittava verkolta tiettyjä ominaisuuksia. Nämä ominaisuudet ovat \(n >> k >> \ln{(n)} >> 1 \). Ehto \( k >> \ln{(n)} \) varmistaa, että satunnaisverkko on vahvasti yhdistynyt \cite{Yhdistynyt}. Kuvassa \ref{P0} on esimerkki säännöllisestä verkosta ylimpänä. Samassa kuvassa on myös kyseisestä säännöllisestä verkosta muodostetut kaksi pieni maailma -verkkoa Wattzin ja Strogatzin kaarien viritysmenetelmällä. Todennäköisyyksillä \( p=0,15 \text{ ja } p=0,05 \) lasketuista verkoista huomaa, kuinka alkuperäisen säännöllisen verkon ryhmittyneisyys vähenee asteittan parametrin \( p \) kasvaessa.  


\begin{figure}[H]
\ \newline
\begin{center}
\epsfig{figure=P0,  width=0.70\textwidth}
\caption{Säännöllinen verkko, jossa jokaisella solmulla on \(k\) kaarta. Kuva on tehty}
\label{P0}
\end{center}
\end{figure}


\label{KleinberginMalli}

\textbf{Kleinbergin malli}:

Seuraavaksi muodostamme mallin, jonka kehitti Jon Kleinberg \cite{Kleinberg} Wattzin ja Strogatzin  mallin pohjalta. Inspiraationa toimi Traversin ja Milgramin suorittama käytännön koe sekä Wattzin ja Strogatzin mallista puuttuva navigoitavuus -ominaisuus.

Mallinnamme ihmisiä solmuina. Tämä joukko solmuja muodostaa $n\times n$ ruudukon, missä
\[
	V =
	\left\lbrace 
		\left(i,j \right) : 
		i \in{ \left\lbrace 1, 2, \ldots , n \right\rbrace },  
		j \in{ \left\lbrace 1, 2, \ldots , n \right\rbrace } 
	\right\rbrace .
\]
Ruudukkoetäisyytenä toimii Manhattan-etäisyys, eli 
\[
		\distance{(i,j)}{(k,l)}
	= \abs{ k - i } + \abs{ l - j }
.\]
Solmulla \(u\) on \textit{paikallinen kontakti} solmun \(v\) kanssa, jos 	
\(
		\distance{u}{v} \leq p
\)
jollain vakiolla 
\( p \geq 1\ \). 
Solmulla \( u \) on myös vakiomäärä \( q \geq 0 \) \textit{etäkontakteja}. Etäkontaktit solmujen \(u\) ja \(v\) välille muodostetaan satunnaisesti todennäköisyysfunktiolla, joka riippuu vakiosta \( r \geq 0 \) ja etäisyydestä \( \distance{u}{v} \). Tarkemmin ilmaistuna etäkontakti muodostetaan satunnaiskokeella solmusta \( u \) solmuun \( v \) todennäköisyydellä
\[
\frac{
	\left[
		\distance{u}{v}
	\right]
	^{-r}
}{
	\Sigma_{v}
	\left[
		\distance{u}{v}
	\right]
	^{-r}
}
\]
Edellä mainituilla tavoin muodostetut kaaret ovat suunnattuja. Solmun \(u\) etäkontaktilla \(v\) ei siis välttämättä ole kaarta takaisin solmuun \(u\). Paikalliset kontaktit kuitenkin muodostavat suuntamattomia kaaria toistensa kanssa, koska niiden etäisyyteen liittyvä muodostamistapa on symmetrinen.


Tämä tapa muodostaa pieni maailma -verkko voidaan tulkita myös geometrisesti. Solmulla \(u\) on kaari jokaiseen tarpeeksi lähellä olevaan solmuun. Näiden yhteyksien lisäksi solmulla \(u\) on kaaria kauempana ruudukossa. Jos vakio \(r = 0 \), niin solmujen etäkontaktit ovat jakautuneet tasaisesti ruudukolle. Näin muodostettu verkko on pieni maailma, mutta se ei ole navigoitava. Vakion \(r\) kasvaessa solmun \(u\) etäkontaktit ovat jatkuvasti lähempänä solmua itseään.

Tässä mallissa ovat \textit{etäkontaktit} mielenkiintoisimpia tarkastelun kohteita. Verkon navigoitavuuteen vaikuttaa, kuinka tasaisesti etäkontaktit ovat jakautuneet verkkoon. Jos \( r=0\), eli etäkontaktit olisivat jakautuneet tasaisesti verkkoon, niin ahne polunetsintä-algoritmi ei tuottaisi lyhyitä polkuja luotettavasti. Vaikka algoritmi löytäisi solmulta \(x\) kaaren solmuun \(y\), joka on lähellä kohdetta \(z\), niin solmun \(y\) todennäköisyys omata etäkontakti kohteeseen \(z\) ei olisi kasvanut. Vakion \(r\) ollessa liian suuri olisi myös hyppyjen määrä liian suuri. Silloin viestit eivät pääsisi kulkemaan tarpeeksi pitkälle etäkontaktienkaan avulla.

Tarkemman tarkastelun jälkeen voimme huomata, että etäkontaktien ei tarvitse olla satunnaisesti tuotettuja luodaksemme navigoitava PM-verkko. Etäkontaktien satunnaisuutta vähentämällä verkosta muodostuu ryhmittyneempi, joka edesauttaa mm. vertaisverkkojen virheenkestävyyttä \cite{Independent}. 

Rajoitamme etäkontaktien valitsemisen satunnaisuutta rajoittamalla solmun \(u = (u_1,u_2)\) mahdollisiksi etäkontakteiksi vain solmut  \(v = (v_1,v_2)\), joille \( u_1 = v_1\) tai \( u_2 = v_2\). Tällöin solmun etäkontatkit sijaitsevat samalla suoralla solmun itsensä kanssa ja etäkontaktien valitsemisen satunnaisuus pienenee. Artikkelissa \cite{Independent} on todistettu, että etäkontaktien muodostamisen rajoittamisesta huolimatta verkon navigoitavuus säilyy. Edellisen ehdon lisäksi voitaisiin myös määritellä muita ehtoja, jotka koskevat vain osaa solmuista (\textit{yhteisöt}), säilyttäen verkon pieni maailma -ominaisuudet.

%% Tähän vielä voisi laittaa Kleinbergin mallin yleistyksen n-ulottuuvutten


\section{Polunetsintä}

\label{Polunetsintä}

Tässä luvussa esittelemme polunetsintä-algoritmejä, jotka soveltuvat pieni maailma -verkkoihin. Kutsumme tätä myös \textit{reititykseksi}. Ensimmäisenä tutustumme yleisiin strategioihin, jonka jälkeen siirrymme varsinaisiin algoritmeihin. Esitämme algoritmeille aikavaativuuksien ylä- ja alarajoja ja esitämme myös ylärajoja algoritmien laatimien polkujen pituuksille.

\subsection{Ahne reititys}

Aiemmin esitetyssä käytännön kokeessa ihmiset muodostivat tuttavuusketjuja lähettäessään viestin kohteeseen. Voimme olettaa, että viestin lähettäjät pyrkivät lähettämään viestin tutulleen, jolla oli suurin todennäköisyys joko tuntea kohde tai kohteen tuttuja. Yksi hyvä strategia on viestin lähettäminen mahdollisimman lähelle kohdetta. Tämä on hyvä esimerkki \textit{ahneesta strategiasta} jonka esittelemme seuraavaksi.

\label{AhneReititys}

Ensimmäisenä tutkimme normaalia ahnetta strategiaa lyhyen polun etsintään. Ahneissa polunetsintäalgoritmeissa viestiä kuljettava solmu lähettää viestin aina lähimpänä kohdetta olevalle naapurilleen. Otamme esimerkiksi Kleinbergin  \cite{Kleinberg}  esittämän termin \textit{hajautettu algoritmi}, jossa viestiä kuljettava solmu tietää

\begin{enumerate}{}{}
\item kaikkien solmujen paikalliset kontaktit
\item kohteen \(y\) sijainti ruudukossa
\item kaikkien viestiä kuljettaneiden solmujen etäkontaktit ja sijainnit.
\end{enumerate}

Osoitamme, että eräälle luvussa \ref{KleinberginMalli} esitetyllä mallilla muodostetulle pieni maailma -verkolle voidaan kehittää hajautettu algoritmi, jonka keskimääräinen \textit{hyppyjen} (monellako solmulla viesti on käynyt) määrä on \( \mathcal{O} (\log^2n) \). Kyseisellä mallilla parametrien arvot ovat \(r=2\) ja \(p = q = 1\). Näytämme myös, että tämä on ainoa Kleinbergin esittämistä malleista, josta voidaan muodostaa navigoituva pieni maailma -verkko jossa hajautetut algoritmit ovat tehokkaita. Huomaammekin, kuinka tärkeä verkon rakenne on lyhyiden reittien löytämisen vain paikallisella tiedolla.

Etäkontaktit levittyätyvät verkkoon tasaisesti, kun parametri \(r=0\). Tällöin minkä tahansa kahden solmun välille löytyy lyhyt reitti suurella todennäköisyydellä. Hajautettu algoritmimme ei kuitenkaan kykene löytämään sitä luotettavasti, sillä verkolla ei ole heuristiikkaa, jota algoritmi voisi hyödyntää.

\begin{lause}
\label{Ei voi löytää}
On olemassa vakio \( \alpha_0 \), joka riippuu vakioista \(p\) ja \(q\), niin että, kun vakio \(r=0\), on hyppyjen odotusarvo vähintään \( \alpha_0 n^{2/3}. \)
\end{lause}

Kun parametria \(r\) kasvatetaan, kykenee algoritmi hyödyntämään syntyvää heuristiikkaa. Tämä parametrin \(r\) arvo on 2.

\begin{lause}
\label{Logaritmisesti nopein}
On olemassa hajautettu algoritmi \( \mathcal{A} \) ja vakio \( \alpha_2 \), riippumaton vakiosta \( n \), niin että kun \( r=2 \) ja \( p = q = 1 \), niin algoritmin \( \mathcal{A} \)  hyppyjen odotusarvo on enimmillään \( \alpha_2 \left( \log{n} \right) \).
\end{lause}

Lauseiden \ref{Ei voi löytää} ja \ref{Logaritmisesti nopein} todistusten taustalla olevat ideat esitetään seuraavaksi. Lauseen \ref{Logaritmisesti nopein} hajautettu algoritmi \( \mathcal{A} \) etenee vaiheittain: sanommekin, että algoritmi on vaiheessa \(j\), jos käsittelyssä olevan solmun etäisyys kohteeseen on arvojen \(j^2\) ja \( j^{2+1} \) välissä. Voidaan osoittaa, että odotusarvo hyppyjen määrälle ennen kuin käsittelyssä olevalla solmulla on etäkontakti solmuun, jonka etäisyys kohteesta on pienempi kuin  \(j^2\), on verrannollinen arvoon \( \log{n} \). Tällöin odottettu hyppyjen määrä on enimmillään \( \log{n} +1 \). Lauseen \ref{Ei voi löytää} raja perustuu todennäköisyyslaskentaan. Muodostamme joukon \( U \), johon kuuluvat kaikki solmut joiden etäisyys kohteeseen on enimmillään \( n^{2/3} \). Tällöin lähtösolmu suurella todennäköisyydellä ei kuulu joukkoon \( U \), jolloin matka kohteeseen ilman etäkontakteja on ainakin \( n^{2/3} \). Todennäköisyys sille, että millä tahansa solmulla olisi etäkontakti joukossa \( U \) on kuitenkin karkeasti suhteessa arvoon  \( n^{-2/3} \). Tämän seurauksena odotettujen hyppyjen määrä on suhteessa arvoon \( n^{2/3} \).

Seuraavien lauseiden pohjalta voimme todeta, että odotettu hyppyjen määrä on logaritmisesti suhteessa solmujen määrään ainoastaan, kun \( r = 0 \).

\begin{lause}
\label{Hitaampi kun ei 2}
\begin{list}{}{}
	\item[(a)]
	\label{3a}
Olkoon \( 0 \leq r \leq 2 \). On olemassa vakio \( \alpha_r \), riippuen vakioista \( p,q,r \), mutta riippumaton vakiosta \(n\), niin että odotettu toimitusaika mille tahana hajautetulle algoritmille on ainakin \( \alpha_r n^{\left( 2-r \right) /3} \).
	\item[(b)]
		\label{3b}
Olkoon \( r > 2 \). On olemassa vakio \( \alpha_r \), riippuen vakioista \( p,q,r \), mutta riippumaton vakiosta \(n\), niin että odotettu toimitusaika mille tahana hajautetulle algoritmille on ainakin \( \alpha_r n^{\left( r-2 \right) / \left( r-1 \right)}. \)
\end{list}
\end{lause}

Lauseen \ref{3a} \((a)\) todistus on samalainen kuin lauseen \ref{Ei voi löytää}. Kohdan  \ref{3a} \((b)\) todistus sen sijaan perustuu etäkontaktien liialliseen keskittymiseen solmun lähelle. Algoritmi ei enää pääse tarpeeksi lähelle kohdetta etäkontaktien avullakaan. Kuvassa \ref{KleinberginKuva} kuvataan odotettujen hyppyjen määrää suhteessa parametrin \(r\) arvoon. 


\begin{figure}[h]
\ \newline
\begin{center}
\epsfig{figure=Kleinberginkuva2,  width=0.9\textwidth}
%\epsfig{figure=kuvaesimerkki.eps, angle=-90, width=0.75\textwidth}
\caption{Odotettujen hyppyjen määrä T suhteessa parametrin \(r\) arvoon. Odotettujen hyppyjen määrä on y-akselilla muodossa \( \log_n T   \). Kuvaaja on tehty Kleinbergin \cite{Kleinberg} artikkelissa esitettyä kuvaajaa mukaillen. }
\label{KleinberginKuva}
\end{center}
\end{figure}


\subsection{Epäsuora reititys ja Naapurien naapurit}


Epäsuora ahne reititys toimii kuten ahne reititys. Poikkeuksena, viestiä kuljettavalla solmulla \(u\) on tiedossa myös solmun \(v\) etäkontaktit jos solmulle pätee
\(
		\distance{u}{v} \leq q
\)
jollain etäisyysfunktiolla \(d\) ja vakiolla \(q\). Tällöin viestiä kuljettavalla solmulla on mahdollisuus lähettää viesti jonkin itseään lähellä olevan solmun kautta. Naapurien naapurit -strategia toimii samalla periaatteella kuin epäsuora ahne reititys. Lähellä olevien solmujen sijaan viestiä kuljettavalla solmulla on tiedossa omien naapureidensa kontaktit. Solmun naapureilla tarkoitamme solmuja, joilla on joko etäkontakti tai paikallinen kontakti kyseiseen solmuun.

Seuraavaksi esitämme erään Naapurien naapurit -algoritmin, jota kutsumme algoritmiksi \NN. Kiinnitämme huomiota muodostetun polun pituuteen, jonka merkitys on suurempi mm. vertaisverkkosovelluksissa. Erityisesti vertaamme sitä luvussa \ref{AhneReititys} mainittuun algoritmiin. Tulokset eivät ole täysin verrannollisia, koska emme käytä lukuun \ref{KleinberginMalli} perustuvaa mallia molempien algoritmien tulosten toteuttamiseen. Poistamme mallista konseptit etä- ja lähikontaktit, mutta pidämme lauseessa \ref{Logaritmisesti nopein} määritellyn parametrin \(r\) arvon 2 mukana. Muodostamme solmulle \(u\) kaaren solmuun \(v\) todennäköisyydellä \( d(u,v)^{-2} \).

Algoritmin \NN viestin lähettämisestä solmuun \(u\) etenee seuraavasti: 

\begin{enumerate}{}{}
\item Oletetaan viestin olevan solmussa \(u \neq t \). Olkoon solmut  \fromOneToX{w}{k} solmun \(u\) naapureita.
\item Kullekin \(i\) olkoon solmut \( z_{i_1},z_{i_3}, \ldots , z_{i_k} \) solmun \( w_i \) naapureita.
\item Oletetaan solmun \( z_{i_j} \) olevan tästä joukosta lähimpänä kohdetta \( t \).
\item Lähetetään viesti solmuun \( z_{i_j} \) solmun \( u_j \) kautta.
\end{enumerate}

Algoritmin \NN keskimääräinen hyppyjen määrä mallissamme suurella todennäköisyydellä on  \( \mathcal{O} (\log{n} / \log{ \log{ n}} ) \) \cite{Manku}. Intuitiivisestikin voidaan ajatella, että naapurien naapurit -strategia löytää tehokkaammin lyhyitä reittejä kuin ahne reititys, jonka odotetty hyppyjen määrä oli \( log{n} \) samankaltaisessa verkossa. Tämä tulos ei kuitenkaan suoraan todista väitettä.

Epäsuoraan ahneeseen reititykseen ja naapurien naapurit -strategiaan liittyy kuitenkin haittapuolensa. Nämä ovat lisätietojen vaatima muistin käytön kasvu useampien solmujen naapurien säilyttämiseen. Käsittelemme näitä tarkemmin seuraavassa luvussa vertaisverkkojen ohella. 

\section{Käytännön sovellukset ja mallit fyysisesti löytyvistä verkoista}

Tässä luvussa esittelemme, kuinka pieni maailma -ilmiötä voidaan käyttää hyväksi pieni maailma -verkoissa. Kuten aiemmin sanottu, pieni maailma -ilmiötä löytyy monista biologista, sosiaalisista ja teknologista verkoista. Sovelluksia tarkastellessamme käytämme hyväksi lukujen \ref{PieniMaailmaLuku} ja \ref{Polunetsintä} tuloksia ja käsitteitä.

\subsection{Oikean maailman verkkojen mallintaminen}

Peer-to-peer verkoissa, eli vertaisverkoissa, ovat asiakkaat ja palvelimet ovat sama asia. Jokainen verkkoon liittyvä kone voi käyttää muiden verkossa olevien koneiden resursseja, sekä sen resursseja voidaan käyttää. Nämä resurssit voivat olla esimerkiksi levytila tai laskentateho. Meitä kiinnostava kohde ovat juuri nämä resurssit ja niiden löydettävyys. Löydettävyys on tärkeä osa vertaisverkkoja, koska koneet eivät voi ylläpitää yhteyttä joka ainoaan muuhun verkon koneeseen. Tiettyjä palveluita joita voivat tarjota vain osa koneista on kuitenkin kyettävä löytämään tästä huolimatta aiheuttamatta liikaa kuormitusta. Pieni maailma -verkot toimivatkin motivaationa vertaisverkoille. Aiemmin esittämiemme tulosten perusteella, yhteyksiä muihin koneisiin ei tarvitse olla useita ja silti puuttuvat resurssit voidaan löytää tehokkaasti. 

Kuten aiemmin todettu, pieni maailma verkoilla on myös pyritty mallintamaan fyysisesti löytyviä verkkoja. Seuraavassa taulukossa on esitetty mitattuja pieni maailma -verkkojen ominaisuuksia keskimääräinen polun pituus \(L\) ja ryhmittymiskerroin \(C\) . Samassa taulukossa on myös mallinnettu kyseisiä verkkoja satunnaisverkoilla . Jokaisella mallin pohjalta luodulla verkolla on yhtä paljon solmuja ja sama keskimääräinen kaarten määrä solmua kohden kuin varsinaisella verkolla, johon niitä verrataan. 


\[
\begin{array}{ | l | l | l | l | l | }
\hline
	 & L & L_{satunnainen} & C & C_{satunnainen}  \\ \hline
	\text{Näyttelijät elokuvissa} & 3.65 & 2.99 & 0.79 & 0,00026 \\ \hline
	\text{USA:n sähköverkko} & 18.7 & 12.4 & 0.08 & 0,005 \\ \hline
	\text{Madon hermosto} & 2.65 & 2.25 & 0.28000000000000003 & 0.05 \\ \hline
\end{array}
\]

Taulukosta huomaa, kuinka keskimääräienn polun pituus on hieman pidempi mitatuissa verkoissa kuin näihin verratuissa satunnaisverkoissa. Kuitenkin ryhmittymiskerroin on ainakin kymmenkertainen varsinaissa verkoissa.  

Pieni maailma -verkoilla on myös mallinnettu tautien leviämistä populaatiossa \cite{CollectiveWattz}. Ihmisestä ihmiseen tarttuvat taudit leviävät pienessä maailmassa nopeasti, mahdollistaen taudin tehokkaan leviämisen koko populaatioon. Wattzin ja Strogatzin simulaatiossa käytettiin heidän malliaan, joka on esitelty luvussa \ref{WatzzinStrogatzinMalli}. Ajankohtana \(t = 0\) verkosta valitaan yksi solmu, joka sairastuu tautiin. Aika etenee hypyittäin. Jokaisen hypyn jälkeen edellisellä hypyllä sairastuneet solmut poistetaan verkosta, joka kuvaa ihmisen kuolemista tai immuniteetin hankkimista. Jokaisen hypyn jälkeen solmulla kuitenkin on ollut mahdollista tartuttaa tauti naapureihinsa todennäköisyydellä \(r\). Hypyt jatkuvat, kunnes koko populaatio on tartutettu, tai kunnes viimeinenkin taudinkantaja poistetaan verkosta. Tällä tavalla mallinnettu tauti leviää sitä nopeammin, mitä ryhmittyneempi verkko on. Taudin ollessa tarpeeksi helposti leviävä sairastuttaaksen koko populaatien verkon rakenteesta huolimatta, populaation sairastuttamiseen kuluva aika pieneni samassa suhteessa keskimääräisen polun pituuden pienenemiseen parametrin \(p\) funktiona. Toinen mallista havaittu tulos oli parametrin \(p\) arvon vähäisen kasvattamisen riittäminen pienentämään kriittistä infektiivisyyttä \( r-50\), jolloin tauti kuoli tartutettuaan populaatiosta puolet. Tämä näkyy kuvassa \ref{InfektioKuva}. Useasta muusta taudinleviämismallista eroten, Wattzin ja Strogatzin pieni maailma -verkossa pystytään seuraamaan taudin leviämisnopeutta verkon rakenteen funktiona. 

\begin{figure}[H]
\ \newline
\begin{center}
\epsfig{figure=InfektioKuva,  width=0.9\textwidth}
\caption{Kriittisen infektiotodennäköisyys verrattuna parametriin p. Kuva on tehty mukailemalla Wattzin ja Strogatzin kuvaajasta \cite{CollectiveWattz}.}
\label{InfektioKuva}
\end{center}
\end{figure}

\subsection{Yhteenvedot luonnollisen kielen teksteistä}

Luonnollisten kielten tekstien asiasisällön esittäminen tiiviimmin on hyödyllistä nykymaailmassa elektronisesti käsillä olevan tiedon kasvaessa räjähdysmäisesti. Tekstin sisällön voi esittää lyhyemmin muodostamalla uuden tekstin tai valikoimalla tekstistä tärkeimmät virkkeet ja kappaleet. Seuraavaksi esittelemme virkkeitä ja kappaleita valikoivan algoritmin, joka käyttää hyväkseen pieni maailma -ilmiötä \cite{TextSummary} . Algoritmi rakentaa tekstin virkkeistä pieni maailma -verkon ja poimii virkkeistä ne, jotka edesauttavat verkkoa eniten olemaan pieni maailma. // solmuista yhdistyneimmän, määrittele yhdistyinein

Aloitamme määrittelemällä verkon \(G = (V,E)\), jossa pisteet \(V\) ovat virkkeitä ja kaaret \(E\) kuvaavat virkkeiden välisiä suhteita. Virkkeellä \(L\) on lähikontakti virkkeen \(L'\) kanssa, jos virkkeet \(L\) ja \(L'\) ovat peräkkäisiä. Etäkontaktien muodostamiseen tarvitsemme keinon määrittää virkkeiden yhteyden toisiinsa, joka muodostaa verkon heuristiikan. Tätä varten rakennamme tekstin tärkeimmistä sanoista joukon \MSet . Etäkontakti kahden virkkeen välille muodostuu vain, jos kummassakin virkkeessä esiintyy jokin joukon \(MeaningfulSet(e)\) sanoista. Parametri \(e\) määrittää, kuinka suuri joukko \MSet on, asettamalla rajan jota suurempi sanan \textit{merkityksen} on oltava, jotta se valitaan joukkoon \MSet{}. Sanan merkitys voidaan laskea jollekin osajoukolle täydestä tekstistä Helmholtz periaatteen avulla. Nämä osajoukot voivat olla esimerkiksi kappaleita tai viiden virkkeen joukkoja teksteissä, joissa kappalejakoa ei ole. Sanan merkitystä laskiessa käytetään hyväksi sanan esiintymisten lukumäärää koko tekstissä ja kappaleessa. Tällä tavoin konjunktioille ja muille yleisille sanoille saadaan pieni merkitys, mikäli sana esiintyy koko tekstissä erittäin monesti. Sanan merkitykseksi valitaan eri osajoukoille lasketuista merkityksistä suurin. 

Joukon MeaningfulSet(e) sanojen määrä suhteessa joukkoon kaikista tekstissä esiintyvistä sanoista vaikuttaa verkon \(G\) kaarien määrän ja täten myös tiivistelmän pituuteen ja olennaisuuteen. Jos joukko \(MeaningfulSet(e)\) on liian suuri, verkko \(G\) ei näytä enää pieneltä maailmalta vaan sattumanvaraisesti muodostetulta verkolta. Kuitenkin joukon \(MeaningfulSet(e)\) ollessa liian pieni verkko \(G\) näyttää molempiin suuntiin linkitetyltä listalta josta löytyy muutama poikkeus. Yhteenvetomenetelmän toimintaperiaatteen kannalta tällöin on suuresti merkitystä, miten tämä joukko valitaan, joten parametrin \(e\) valinta on tärkeää. Tätä ongelmaa voidaan verrata luvussa \ref{KleinberginMalli} esitettyyn pieni maailma -verkon malliin. Myös tiivistämisalgoritmia varten pieni maailma -verkon rakentamisen kannalta on parametrilla \(e\) tietty arvo, jolloin usein verkosta muodostuu tehokas pieni maailma.

Algoritmin toimintaan liittyy oleellisesti myös pieni maailma -verkkojen ominaisuuksien testaaminen. Tähän algoritmi käyttää aiemmin määrittelemiämme suureita ryhmittymiskerroin ja transitiivisuus. Mikäli virkkeistä muodostettu verkko ei toteuta annettuja ehtoja ryhmittymiskertoimen ja transitiivisuuden suhteen, asetetaan parametrille \(e\) uusi arvo ja yritetään uudestaan. Ehtojen vihdoin täytyttyä etsitään virkkeet jotka eniten edistävät verkkoa olemaan pieni maailma. Nämä virkkeet muodostavat yhteenvedon. Virkkeiden panosta pienen maailman rakentumiseen voidaan mitata tietyillä mittareilla. Näille mittareille on tärkeää suuri arvojoukko, jolloin yhteenveto saadaan muodostettua tarpeeksi lyhyeksi kaikkein merkityksellisimmistä virkkeistä. Algoritmin tarkemmat vaiheet on kuvattu pseudokoodina kuvassa \ref{tiivistaminenKuva}. 

Seuraava kappale on Yhdysvaltain presidentin vuonna 2011 pitämän Kansakunnan tila -puheen tärkein kappale parametrin \(e\) arvolla 2. 

\textit{The plan that has made all of this possible, from the tax cuts to the jobs, is the Recovery Act. That's right, the Recovery Act, also known as the stimulus bill. Economists on the left and the right say this bill has helped save jobs and avert disaster. But you don't have to take their word for it. Talk to the small business in Phoenix that will triple its workforce because of the Recovery Act. Talk to the window manufacturer in Philadelphia who said he used to be skeptical about the Recovery Act, until he had to add two more work shifts just because of the business it created. Talk to the single teacher raising two kids who was told by her principal in the last week of school that because of the Recovery Act, she wouldn't be laid off after all. }

Tärkein lause taas oli \textit{The plan that has made all of this possible, from the tax cuts to the jobs, is the Recovery Act}. Nämä lainaukset johtavatkin suureen haasteeseen, nimittäin yhteenvetojen arviointiin. Olisiko pelkkä ensimmäinen kappale riittävä yhteenveto Obaman puheesta?

\begin{figure}[H]
\ \newline
\begin{center}
\epsfig{figure=YhteenvetoKuva, width=0.65\textwidth}
\caption{Automaattinen tekstin tiivistäminen}
\label{tiivistaminenKuva}
\end{center}
\end{figure}

\section{Mallien parantaminen}

Pieni maailma -verkoilla on pyritty mallintamaan useita oikeassa maailmassa esiintyviä kompleksisia verkkoja \cite{CollectiveWattz}. Esittämiemme mallien lähtökohtana on kuitenkin ollut verkkoja, joissa solmujen määrä ei ole muuttunut ajan suhteen. Kuitenkaan tämä ei ole totta useassa käyttämässämme esimerkissämmekään, kuten sosiaalisten suhteiden muodostamassa verkossa. Uusia kaaria muodostetaan jatkuvasti ajan kuluessa ystävyyksien syntyessä. Uusia ihmisiä syntyy maailmaan luoden uusia solmuja. Myös päinvastaista tapahtuu ihmisten menehtyessä. Emme voikaan sanoa, että pieni maailma -verkot kuvaavat tällaisia verkkoja hyvin muulloin kuin tiettyä ajankohtaa tarkasteltaessa.

Kaarien ja solmujen määrän lisäksi komplekseilta verkoilta on löytynyt toinen ominaisuus. Verkkoon liittyvät uudet solmut muodostavat kaaria todennäköisemmin solmuihin, joilla on jo paljon kaaria \cite{Barabasi}. Tätä kutsutaan \textit{suosivaksi kiinnitymiseksi}. Esimerkiksi WWW-sivujen linkkien muodostamassa verkossa, uusilla sivuilla on todennäköisemmin linkki jo erittäin tunnettuihin sivustoihin. 

Pieni maailma -verkot ovatkin auttaneet skaalavapaiden verkkojen teorian kehittämistä. Skaalavapaat verkot pyrkivät mallintamaan tarkemmin kompleksisia verkkoja, joiden rakenteesta ei vielä tiedetä kaikkea \cite{Barabasi}. Skaalavapailta verkoilta löytyy myös pieni maailma -verkkojen tärkeimmät ominaisuudet, eli pieni keskimääräinen polun pituus ja suuri ryhmittymiskerroin. 




\section{Yhteenveto}

Tämä tutkielma avasi lukijalle ilmiön pienestä maailmasta käytännöllisin, maanläheisin esimerkein ja yleiseen verkkoteoriaan yleistettyinä ominaisuuksina. 

Pieni maailma -verkoilla on tiettyjä ominaisuuksia, joista tärkein ominaisuus on lyhyiden polkujen löytyminen lyhyessä ajassa solmulta toiselle. Kyseisiä verkkoja voidaan luoda keinotekoisesti niin, että sitä voidaan helposti hyödyntää kulloiseenkiin käyttötarkoitukseen.

Jatkolukemisena lukijalle löytyy useita vaihtoehtoja eri käytännön sovelluksista täysin teoreettisiin kirjoituksiin.





\keywords{ulkoasu, tiivistelmä, lähdeluettelo}





% Sitten alkaa lähdeluettelo
%


\nocite{*}
\bibliographystyle{tktl}
\bibliography{lahteet}
\lastpage
\appendices


\end{document}
